1. 将输入的代码转化为抽象语法树（AST）
   - 词法分析转化为 token 流
   - 语法分析转化为 AST
2. 通过一定的规则去转化抽象语法树（AST）
3. 将转换后的抽象语法树重新编译输出新的代码